function WebController(){Controller.call(this),this.bindEvent()}WebController.prototype.bindEvent=function(){var e=this;$(".btn_reserve").click(function(){var e=$(this),r=e.data("id"),t=e.data("name");$(".reserve-form").data("id",r),$(".reserve-form").data("name",t),$(".reserve-form").show()}),$(".sendCodeBtn").click(function(){if(e.allowed){var r={phoneNum:$.trim($(".reserve-form [name=phoneNumber]").val()),msgSourceType:3};e.request(e.apiUrl.wechat.getPhoneVertifyCode,r,{type:"GET",process:function(){e.countDown()},onExceptionInterface:function(r){e.showLog(r.message)}})}}),$(".cancelBtn").click(function(){$(".reserve-form").hide(),$(".reserve-form [name=name]").val(""),$(".reserve-form [name=phoneNumber]").val(""),$(".reserve-form .tips-txt").text(""),$(".reserve-form [name=verifyCode]").val(""),$("html,body").css({overflow:"",height:"auto"})}),$(".confirmReserveBtn").click(function(){var r=$.trim($(".reserve-form").data("id")),t=$.trim($(".reserve-form").data("name")),o=$.trim($(".reserve-form [name=phoneNumber]").val()),n=$.trim($(".reserve-form [name=name]").val()),a=$.trim($(".reserve-form [name=verifyCode]").val()),s={custName:n,custMobile:o,subEstateName:t,subEstateId:r,vertifyCode:a,source:1};e.request(e.apiUrl.wechat.saveData,s,{type:"GET",process:function(){$(".reserve-form").hide(),$(".success-dialog").show()},onExceptionInterface:function(r){e.showLog(r.message)}})}),$(".w-alert-win").click(function(){$(".reserve-form [name=phoneNumber]").val(""),$(".reserve-form [name=name]").val(""),$(".reserve-form [name=verifyCode]").val(""),$("#sendCodeBtn").text("获取验证码"),$("#sendCodeBtn").removeClass("disabled"),location.reload()})},WebController.prototype.showLog=function(e){$(".tips-txt").text(e),setTimeout(function(){$(".tips-txt").text(""),callback&&callback()},2e3)},$(document).ready(function(){new WebController});