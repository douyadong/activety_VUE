function MaxController(){}function reserve(e){var t=estates[e],a=t.estateId,s=t.estateName;controller.showReverseDialog(a,s)}function createMap(){$("map").remove(),$("img[data-original-demension").each(function(e,t){var a=$(this),s=$("body"),o=a.data("original-demension"),n=o[0],r=o[1],i=a.width(),m=a.height(),d=a.data("shapes"),I=a.attr("name")||"img_original_demesion"+e,l="map_"+I,N=$("<map></map>");N.attr("name",l);var c,p,h,f,g,v=i/n,w=m/r;$.each(d,function(e,t){c=parseInt(t[0]*v),h=parseInt(t[1]*w),p=parseInt((t[0]+t[2])*v),f=parseInt((t[1]+t[3])*w),g=t[4],N.append($('<area shape="rect" coords="'+(c+","+h+","+p+","+f)+'" href="'+g+'"></area>'))}),s.append(N),a.attr("usemap","#"+l)})}function showDialog(){$("#joinDialog").show()}MaxController.prototype.showReverseDialog=function(e,t){$(".reserve-form").data("id",e),$(".reserve-form").data("name",t),$(".reserve-form").show()};var controller=new MaxController,estates=[{estateId:"158180",estateName:"翡翠名都"},{estateId:"161276",estateName:"摩尔公馆"},{estateId:"154842",estateName:"四季香榭"},{estateId:"146858",estateName:"银亿上府"},{estateId:"155854",estateName:"山景水岸"},{estateId:"156173",estateName:"名城花苑"},{estateId:"155765",estateName:"名都豪庭"},{estateId:"155259",estateName:"田园东方"},{estateId:"107503",estateName:"保利西塘越"},{estateId:"149345",estateName:"绿地滨江中央广场"},{estateId:"107277",estateName:"旭辉铂悦西郊"},{estateId:"142729",estateName:"慈溪碧桂园"},{estateId:"146967",estateName:"智富城Mimon公寓"},{estateId:"161282",estateName:"绿地中心"},{estateId:"155378",estateName:"嘉兴尚海年华"},{estateId:"161381",estateName:"金泰城"},{estateId:"154821",estateName:"高和海德公馆"},{estateId:"145298",estateName:"香溢花城三期香溢天地"},{estateId:"106821",estateName:"南京西路公馆"},{estateId:"15973",estateName:"华润外滩九里"}];$(function(){$(window).on("resize",createMap),$("#joinDialog img").click(function(){$("#joinDialog").hide()})}),window.onload=createMap;