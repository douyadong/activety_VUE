function MaxController(){}function reserve(e){var t=estates[e],a=t.estateId,s=t.estateName;controller.showReverseDialog(a,s)}function createMap(){$("map").remove(),$("img[data-original-demension").each(function(e,t){var a=$(this),s=$("body"),o=a.data("original-demension"),r=o[0],n=o[1],i=a.width(),m=a.height(),d=a.data("shapes"),l=a.attr("name")||"img_original_demesion"+e,I="map_"+l,p=$("<map></map>");p.attr("name",I);var N,c,h,f,g,w=i/r,v=m/n;$.each(d,function(e,t){N=parseInt(t[0]*w),h=parseInt(t[1]*v),c=parseInt((t[0]+t[2])*w),f=parseInt((t[1]+t[3])*v),g=t[4],p.append($('<area shape="rect" coords="'+(N+","+h+","+c+","+f)+'" href="'+g+'"></area>'))}),s.append(p),a.attr("usemap","#"+I)})}function showDialog(){$("#joinDialog").show()}MaxController.prototype=new WapController,MaxController.prototype.showReverseDialog=function(e,t){$(".reserve-form").data("id",e),$(".reserve-form").data("name",t),$(".reserve-form").show()};var controller=new MaxController,estates=[{estateId:"153191",estateName:"新西塘孔雀城"},{estateId:"155712",estateName:"华润置地橡树湾"},{estateId:"155079",estateName:"四季香榭"},{estateId:"155079",estateName:"赞成名仕府邸"},{estateId:"155856",estateName:"山景水岸"},{estateId:"155715",estateName:"名城花苑"},{estateId:"155765",estateName:"名都豪庭"},{estateId:"155259",estateName:"无锡田园东方"},{estateId:"153101",estateName:"保利西塘越"},{estateId:"155706",estateName:"嘉兴万达广场"},{estateId:"154677",estateName:"中环国际公寓三期"},{estateId:"143689",estateName:"万科翡翠雅宾利"},{estateId:"153100",estateName:"智富城Mimon公寓"},{estateId:"144551",estateName:"MORE街区"},{estateId:"155623",estateName:"嘉兴尚海年华"},{estateId:"153093",estateName:"上影安吉新奇世界"},{estateId:"119211",estateName:"融创外滩188"},{estateId:"145298",estateName:"香溢花城三期香溢天地"},{estateId:"106565",estateName:"盛世滨江壹号公馆"},{estateId:"15973",estateName:"华润外滩九里"}];$(function(){$(window).on("resize",createMap),$("#joinDialog img").click(function(){$("#joinDialog").hide()})}),window.onload=createMap;