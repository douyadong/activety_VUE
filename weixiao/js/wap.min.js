function MaxController(){}function reserve(e){var a=estates[e],t=a.estateId,s=a.estateName;controller.showReverseDialog(t,s)}function createMap(){$("map").remove(),$("img[data-original-demension").each(function(e,a){var t=$(this),s=$("body"),o=t.data("original-demension"),r=o[0],n=o[1],i=t.width(),d=t.height(),m=t.data("shapes"),c=t.attr("name")||"img_original_demesion"+e,I="map_"+c,l=$("<map></map>");l.attr("name",I);var h,p,N,f,g,v=i/r,u=d/n;$.each(m,function(e,a){h=parseInt(a[0]*v),N=parseInt(a[1]*u),p=parseInt((a[0]+a[2])*v),f=parseInt((a[1]+a[3])*u),g=a[4],l.append($('<area shape="rect" coords="'+(h+","+N+","+p+","+f)+'" href="'+g+'"></area>'))}),s.append(l),t.attr("usemap","#"+I)}),$("img[data-shapes]").click(function(){var href=$(this).data("shapes")[0][4];href.indexOf("javascript")>-1?eval(href):location.href=href})}function showDialog(){$("#joinDialog").show()}MaxController.prototype.showReverseDialog=function(e,a){$(".reserve-form").data("id",e),$(".reserve-form").data("name",a),$(".reserve-form").show()};var controller=new MaxController,estates=[{estateId:"158180",estateName:"翡翠名都"},{estateId:"161276",estateName:"摩尔公馆"},{estateId:"154842",estateName:"四季香榭"},{estateId:"146858",estateName:"银亿上府"},{estateId:"155854",estateName:"山景水岸"},{estateId:"156173",estateName:"名城花苑"},{estateId:"155765",estateName:"名都豪庭"},{estateId:"155259",estateName:"田园东方"},{estateId:"107503",estateName:"保利西塘越"},{estateId:"149345",estateName:"绿地滨江中央广场"},{estateId:"107277",estateName:"旭辉铂悦西郊"},{estateId:"142729",estateName:"慈溪碧桂园"},{estateId:"146967",estateName:"智富城Mimon公寓"},{estateId:"161282",estateName:"绿地中心"},{estateId:"155378",estateName:"嘉兴尚海年华"},{estateId:"161381",estateName:"金泰城"},{estateId:"154821",estateName:"高和海德公馆"},{estateId:"145298",estateName:"香溢花城三期香溢天地"},{estateId:"106821",estateName:"南京西路公馆"},{estateId:"15973",estateName:"华润外滩九里"}];$(function(){$(window).on("resize",createMap),$("#joinDialog img").click(function(){$("#joinDialog").hide()})}),window.onload=createMap;