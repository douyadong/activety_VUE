function zqController(){this.initPage(),this.eventBind()}zqController.prototype.initPage=function(){var e=this;e.CakePos=[],$(".table-container .cake").each(function(t,a){var n={key:t,top:$(a).css("top"),marginLeft:$(a).css("margin-left"),width:$(a).css("width")};e.CakePos.push(n)});var t=function(){$(".table-container .item").animate({top:"-105px"},1e3).animate({top:"-80px"},1e3)};t(),si=setInterval(function(){t()},2e3)},zqController.prototype.createMask=function(){var e=document.documentElement.scrollHeight,t=document.documentElement.scrollWidth,a=document.createElement("div");a.id="mask-container",$(a).css({"background-color":"rgba(0,0,0,0.7)",position:"fixed",left:0,top:0,height:e+"px",width:t+"px","z-index":"9999"}),$(document.body).append(a)},zqController.prototype.eventBind=function(){var e=this;$(".arrow").on("click",function(t){if(t.preventDefault(),$(this).hasClass("left-arrow")){$.each(e.CakePos,function(t,a){e.CakePos[t].key=e.CakePos[t].key-1<0?e.CakePos.length-1:e.CakePos[t].key-1});var a=e.CakePos[0];$(".table-container .cake").each(function(t,n){var i=$.map(e.CakePos,function(e,a){if(e.key==t)return e})[0];t==a.key&&($(".item .desc img").attr({src:$(n).data("font-src")}),$(".item .desc p").text($(n).data("desc")),$(".item").data("dialog",$(n).data("dialog"))),$(n).animate({top:i.top},{queue:!1,easing:"linear",duration:500}),$(n).animate({"margin-left":i.marginLeft},{queue:!1,easing:"linear",duration:500}),$(n).animate({width:i.width},{queue:!1,easing:"linear",duration:500})})}if($(this).hasClass("right-arrow")){$.each(e.CakePos,function(t,a){e.CakePos[t].key=e.CakePos[t].key+1==e.CakePos.length?0:e.CakePos[t].key+1});var a=e.CakePos[0];$(".table-container .cake").each(function(t,n){var i=$.map(e.CakePos,function(e,a){if(e.key==t)return e})[0];t==a.key&&($(".item .desc img").attr({src:$(n).data("font-src")}),$(".item .desc p").text($(n).data("desc")),$(".item").data("dialog",$(n).data("dialog"))),$(n).animate({top:i.top},{queue:!1,easing:"linear",duration:500}),$(n).animate({"margin-left":i.marginLeft},{queue:!1,easing:"linear",duration:500}),$(n).animate({width:i.width},{queue:!1,easing:"linear",duration:500})})}}),$(".item").on("click",function(t){t.preventDefault(),e.createMask(),$(".dialog").hide(),$("."+$(this).data("dialog")).show()}),$("body").delegate("#mask-container,.close","click",function(e){$(".dialog").hide(),$("#mask-container").remove()})},$(document).ready(function(){new zqController});