function WebController(){Controller.call(this),this.bindEvent()}WebController.prototype.bindEvent=function(){var e=this;$(".operation").on("click",function(o){o.preventDefault();var t=$(this).data("type"),n=$("#activity_id").val();if("play"===t){var i=window.open(),d={id:n};e.request(e.apiUrl.douyu.getStatus,d,{type:"post",apiDataType:"jsonp",showLoadingTips:!1,process:function(o){var t=o.data.state.toString();"1"===t?(i.close(),e.dialog("悟空直播将于6月30日下午两点开始，敬请期待哟～！")):"2"===t?i.location.href="http://www.douyu.com/676965":"3"===t&&(i.close(),e.dialog("本期直播已结束，小悟空正在上传视频，敬请期待哦~"))},onExceptionInterface:function(o){i.close(),e.showLog(o.message)}})}else"desc"===t?($(".sec_desc").show(),$(".sec_rule").hide(),$(".sec_summary").hide()):"rule"===t?($(".sec_desc").hide(),$(".sec_rule").show(),$(".sec_summary").hide()):"summary"===t&&($(".sec_desc").hide(),$(".sec_rule").hide(),$(".sec_summary").show())})},WebController.prototype.dialog=function(e){var o=document.documentElement.scrollHeight,t=document.documentElement.scrollWidth,n=document.createElement("div");n.id="mask-container",$(n).css({"background-color":"rgba(0,0,0,0.3)",position:"absolute",left:0,top:0,height:o+"px",width:t+"px","z-index":"200"}),$(document.body).append(n);var i=document.createElement("div"),d=[];i.id="dialog",d.push('<div id="dialog-header">提示</div>'),d.push('<div id="dialog-content"><span>'+e+"</span></div>"),d.push('<div id="dialog-footer"><button id="d-cancel">我知道了</button></div>'),$(i).append(d.join("")),$(document.body).append(i),$("body").on("click","#d-cancel,#mask-container",function(e){e.preventDefault(),$("#mask-container").remove(),$("#dialog").remove()})},$(document).ready(function(){new WebController});