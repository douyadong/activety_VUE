function Controller(){this.randomDomainSn=function(){var t=Math.floor(10*Math.random()+1).toString();return t.length<2&&(t="0"+t),t},this.environment=STAGE_ENVIRONENT,this.staticDomain="//dev."+this.randomDomainSn()+".wkzf","test"===this.environment?this.staticDomain="//test."+this.randomDomainSn()+".wkzf":"beta"===this.environment?this.staticDomain="beta"+this.randomDomainSn()+".wkzf.com":"sim"===this.environment?this.staticDomain="sim"+this.randomDomainSn()+".wkzf":"production"===this.environment&&(this.staticDomain="cdn"+this.randomDomainSn()+".wkzf.com"),this.bootstrapStaticPrefix=this.staticDomain+"/fe_public_library/bootstrap",this.utilStaticPrefix=this.staticDomain+"/fe_public_library/wkzf/js/util",this.appStaticPrefix=this.staticDomain+"/activity_template/js",this.apiDataType="jsonp",this.apiPrefix="//10.0.18.78:8134/","test"===this.environment?this.apiPrefix="//10.0.18.79:8134/":"beta"===this.environment?this.apiPrefix="//wechat-beta.wkzf.com/":"sim"===this.environment?this.apiPrefix="//wechat.sim.wkzf/":"production"===this.environment&&(this.apiPrefix="//wechat.wkzf.com/"),this.apiUrl={wechat:{getPhoneVertifyCode:this.apiPrefix+"actOrder/getPhoneVertifyCode.rest",saveData:this.apiPrefix+"actOrder/saveData.rest"},douyu:{getStatus:this.apiPrefix+"actDirectSeeding/getActDirectSeedingById.rest"}},this.toastStatus=!0,this.allowed=!0,this.request=function(t,i,s){var e=this,n=null===s||null===s.type||void 0===s.type?"GET":s.type;"production"!==this.environment&&(n="GET");var o=null===s||null===s.process||void 0===s.process?null:s.process,a=(null===s||null===s.showLoadingTips||void 0===s.showLoadingTips||s.showLoadingTips,null===s||null===s.loadingTips||void 0===s.loadingTips?"正在加载数据，请稍等...":s.loadingTips),c=null===s||null===s.apiDataType||void 0===s.apiDataType?this.apiDataType:s.apiDataType,r=null===s||null===s.onExceptionInterface||void 0===s.onExceptionInterface?null:s.onExceptionInterface;this.showLoadingTips&&this.tips(a);try{$.ajax({url:t,type:n,data:i,dataType:c,jsonpCallback:"callback",error:function(t){0!=$(".tipsTxt").size()?($(".tipsTxt").text("网络异常"),setTimeout(function(){$(".tipsTxt").text("")},2e3)):e.showLog("网络异常")},success:function(t){"1"===t.status.toString()?o&&o(t):r&&r(t)}})}catch(h){}},this.showLog=function(t,i){var s=this;if(s.toastStatus){s.toastStatus=!1;var e=$(".wk-toast");e[0]||(e=$('<div class="wk-toast"></div>').appendTo("body")),e.html(t).addClass("show"),setTimeout(function(){e.removeClass("show"),s.toastStatus=!0,i&&i()},2400)}},this.countDown=function(){var t=this,i=60;t.allowed=!1,clearInterval(s);var s=setInterval(function(){i>1?($("#sendCodeBtn").addClass("disabled"),i--,i<10?$("#sendCodeBtn").text("0"+i+"s后可重发"):$("#sendCodeBtn").text(i+"s后可重发")):($("#sendCodeBtn").removeClass("disabled"),$("#sendCodeBtn").text("获取验证码"),t.allowed=!0,clearInterval(s))},1e3)},this.closeSuccess=function(){$("#closeSuccess").click(function(){$("#Success").hide(),$("html,body").css({overflow:"",height:"auto"}),window.location.reload()})},this.closeBtn=function(){$("#closeBtn").click(function(){$("#yyForm").hide(),$("html,body").css({overflow:"",height:"auto"})})},this.btnReserve=function(){$("#yyBtn").click(function(){$("#yyForm").show(),$("html,body").css({overflow:"hidden",height:"100%"})})},this.onload=function(){this.closeSuccess(),this.btnReserve(),this.closeBtn()},this.onload()}