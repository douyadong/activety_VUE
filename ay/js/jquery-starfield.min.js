!function(t){var e=5e3,n=function(t,e,n,r){this.x=t,this.y=e,this.size=n,this.color=r};n.prototype.mapXYToCanvasCoordinates=function(t,n){var r=Math.round(this.x/e*t),o=Math.round(this.y/e*n);return{x:r,y:o}};var r={getRandomStar:function(){var t=Math.floor(Math.random()*(e+1)),r=Math.floor(Math.random()*(e+1)),o=this._getWeightedRandomSize(),i=this._getWeightedRandomColor(),a=this._applyRandomShade(i);return new n(t,r,o,this._getRGBColorString(a))},_getWeightedRandomSize:function(){var t=[1,1.5,2],e=[.8,.15,.05];return this._getWeightedRandom(t,e)},_getWeightedRandomColor:function(){var t=[{r:255,g:189,b:111},{r:255,g:221,b:180},{r:255,g:244,b:232},{r:251,g:248,b:255},{r:202,g:216,b:255},{r:170,g:191,b:255},{r:155,g:176,b:255}],e=[.05,.05,.05,.7,.05,.05,.05];return this._getWeightedRandom(t,e)},_getRandomShade:function(){var t=[1,2,3,4],e=[2,1.5,1,.5];return this._getWeightedRandom(t,e)},_applyRandomShade:function(t){var e=this._getRandomShade();return 1!==e&&(t.r=Math.floor(t.r*e),t.g=Math.floor(t.g*e),t.b=Math.floor(t.b*e)),t},_getRGBColorString:function(t){return"rgb("+t.r+","+t.g+","+t.b+")"},_getWeightedRandom:function(t,e){for(var n=function(t,e){return Math.random()*(e-t)+t},r=e.reduce(function(t,e){return t+e}),o=n(0,r),i=0,a=0;a<t.length;a++)if(i+=e[a],i=+i.toFixed(2),o<=i)return t[a]}},o=[];t.fn.starfield=function(n){var i=t.extend({starDensity:1,mouseScale:1,seedMovement:!0},n);o=[],$this=t(this);var a=$this.width(),h=$this.height(),g=a*h,s=.002*i.starDensity,d=Math.floor(g*s);if(i.seedMovement)var c=5,u=5;else var c=0,u=0;t("#rocketwagon-canvas").length&&t("#rocketwagon-canvas").remove();for(var f=(t('<canvas id="rocketwagon-canvas">').css({position:"absolute",left:0,top:0,width:"100%",height:$this.height()+"px"}).attr({width:$this.width(),height:$this.height()}).prependTo($this),0);f<d;f++)o.push(r.getRandomStar());var l=function(){t.each(o,function(t,n){var r=n.x-c,o=n.y-u;r<0&&(r+=e),o<0&&(o+=e),r>e&&(r-=e),o>e&&(o-=e),n.x=r,n.y=o})},v=function(){var e=document.getElementById("rocketwagon-canvas"),n=e.width,r=e.height;if(e.setAttribute("width",n.toString()),e.setAttribute("height",r.toString()),e.getContext){var i=e.getContext("2d");i.clearRect(0,0,n,r),i.fillStyle="#050c1c",i.fillRect(0,0,n,r),t.each(o,function(t,e){var o=e.mapXYToCanvasCoordinates(n,r);i.fillStyle=e.color,i.fillRect(o.x,o.y,e.size,e.size)})}};return function m(){requestAnimationFrame(m),l(),v()}(),this}}(jQuery);